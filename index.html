<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Group Video Chat v2.0</title>
    <script src="https://cdn.jsdelivr.net/npm/@skyway-sdk/room/dist/skyway_room.js"></script>
    <style>
        /* --- æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ« --- */
        body { background-color: #7494c0; font-family: sans-serif; margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        #version-tag { position: fixed; bottom: 5px; right: 10px; color: rgba(255,255,255,0.5); font-size: 10px; z-index: 1000; }
        /* --- ä»¥ä¸‹ã€å‰å›ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¶™ç¶š --- */
        #home-screen { padding: 20px; text-align: center; color: white; }
        .group-card { background: white; color: #333; padding: 15px; border-radius: 10px; margin: 10px auto; width: 80%; max-width: 300px; display: flex; justify-content: space-between; cursor: pointer;}
        #login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center; z-index: 100; }
        .login-box { background: white; padding: 25px; border-radius: 10px; text-align: center; }
        #chat-container { display: none; flex-direction: column; height: 100vh; }
        #chat-header { background: #557094; color: white; padding: 10px; display: flex; justify-content: space-between; }
        #video-area { display: none; background: #000; height: 180px; gap: 2px; padding: 2px; }
        video { flex: 1; height: 100%; background: #222; border-radius: 5px; object-fit: cover; }
        #chat-screen { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; }
        .balloon { padding: 8px 15px; border-radius: 18px; background: white; margin-bottom: 10px; max-width: 80%; color: #333; }
        .right { align-self: flex-end; background-color: #8de055; }
        .input-area { background: #fff; padding: 10px; display: flex; gap: 5px; }
    </style>
</head>
<body>

<div id="version-tag">Ver 2.0.0 (Video Call Build)</div>

<div id="home-screen">
    <h2>ãƒã‚¤ã‚°ãƒ«ãƒ¼ãƒ—</h2>
    <div id="group-list"></div>
    <button onclick="showLogin()" style="padding:10px 20px; background:#28a745; color:white; border:none; border-radius:5px;">ï¼‹ æ–°è¦ã‚°ãƒ«ãƒ¼ãƒ—</button>
</div>

<div id="login-screen">
    <div class="login-box">
        <input type="text" id="group-id" placeholder="ã‚°ãƒ«ãƒ¼ãƒ—å"><br>
        <input type="text" id="group-pass" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"><br>
        <input type="text" id="user-id" placeholder="ã‚ãªãŸã®åå‰"><br><br>
        <button onclick="enterGroup(true)">ä¿å­˜ã—ã¦å…¥å®¤</button>
    </div>
</div>

<div id="chat-container">
    <div id="chat-header">
        <button onclick="location.reload()" style="background:none; border:none; color:white; font-size:20px;">ğŸ </button>
        <span id="display-group-name"></span>
        <button id="call-btn" style="background:#28a745; color:white; border:none; border-radius:15px; padding:5px 15px;">ğŸ“é€šè©±é–‹å§‹</button>
    </div>
    <div id="video-area">
        <video id="local-video" autoplay playsinline muted></video>
        <div id="remote-videos" style="display:contents;"></div>
    </div>
    <div id="chat-screen"></div>
    <div class="input-area">
        <input type="text" id="input-message" style="flex:1; border-radius:20px; padding:10px; border:1px solid #ccc;">
        <button id="send-btn" style="background:#007bff; color:white; border:none; border-radius:20px; padding:10px 20px;">é€ä¿¡</button>
    </div>
</div>

<script type="module">
    /* ã“ã“ã«å‰å›ã®Firebase + SkyWayã®JavaScriptã‚’ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ */
    /* skywayKeyã®éƒ¨åˆ†ã«ã‚ãªãŸã®ã‚­ãƒ¼ã€Œd692a6e7-021b-4698-9dd4-d7fdeefc6f5eã€ã‚’å…¥ã‚Œã‚‹ã®ã‚’å¿˜ã‚Œãšã«ï¼ */
</script>
</body>
</html>
